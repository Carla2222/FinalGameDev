var tsatoGame = function(){
    "use strict";
    return {  
         createTsatos:function(time){
            setInterval(function(){
                 tsatos = tsato.create(580,0,"tsato");
                 tsatos.animations.add('play',[0,1,2,3,4],50, true);
                tsatos.body.velocity.y=200;
                tsatos.animations.play('play');
            },time)
        },
        createTsato1s:function(time){
            setInterval(function(){
                 tsato1s = tsato.create(580,700,"tsato");
                 tsato1s.animations.add('play',[0,1,2,3,4],50, true);
                tsato1s.body.velocity.y=-370;
                tsato1s.animations.play('play');
            },time)
        },
        play:function(){
            buttonPlay.destroy();
        },
        // dito yung function para mag loop yung bgmusic
        loopAudio:function(time){
        	setInterval (function (){
        		bgmusic.play();
        	},time);
        },
		 pushRight:function(){

			player.animations.play('player');
                player.body.velocity.x=-2750;

            // dito magsstop yung music.
			// boomusic.stop();
			// yaymusic.stop();
		},
		 scoreTsato:function(platform,tsatos){
				tsatos.kill();
				a = a + 1;
				score.text='Score :'+a;

                // dito magplaplay yung effect pag naka score
				yaymusic.play();
				if(a==5){
        ai2 = game.add.sprite(200,200,'ai2');
    game.physics.arcade.enable(ai2);
    ai2.body.collideWorldBounds = true;
    ai2.body.velocity.y=283;
    ai2.body.bounce.y=1;

        ai2.animations.add('ai2',[2,0,1],9,true);
            ai2.animations.play('ai2')

    ai.body.velocity.y=450;
    ai2.body.velocity.y=550;
				}
				else if(a==10){

    ai.body.velocity.y=800;
    ai2.body.velocity.y=650;
				}
				else if(a==15){

    ai.body.velocity.y=900;
    ai2.body.velocity.y=1050;
				}
		},
		 killTsato:function(ai,tsatos){
				tsatos.kill();
				b = b - 1;
				life.text='Life :'+b;
				
                // dito mag plaplay pag minus life
				boomusic.play();
				if(b==0){
					player.kill();
					btnfire.destroy();
                    tsatos.destroy();

		ai.animations.stop();
    ai.body.velocity.y=0;
    ai.body.bounce.y=0;

                    goButton = game.add.button(100,197,'gameover',tsatoGame.overgame);
                    if(tsatoGame.retrieveBest() <= a){
                   localStorage.setItem("gameStorage",a);
               }
				}
			},
			 killTsato2:function(ai2,tsatos){
				tsatos.kill();
				b = b - 1;
				life.text='Life :'+b;
                // dito mag plaplay pag minus life
                boomusic.play();
				if(b==0){
					player.kill();
					btnfire.destroy();
                    tsatos.destroy();
					ai.animations.stop();
    ai.body.velocity.y=0;
    ai.body.bounce.y=0;
		ai2.animations.stop();
    ai2.body.velocity.y=0;
    ai2.body.bounce.y=0;

                    goButton = game.add.button(100,197,'gameover',tsatoGame.overgame);
                    if(tsatoGame.retrieveBest() <= a){
                   localStorage.setItem("gameStorage",a);
               }
				}
		},

		scoreTsato1:function(platform,tsato1s){
				tsato1s.kill();
				a = a + 1;
				score.text='Score :'+a;

                // dito magplaplay yung effect pag naka score
				yaymusic.play();
				if(a==5){
        ai2 = game.add.sprite(200,200,'ai2');
    game.physics.arcade.enable(ai2);
    ai2.body.collideWorldBounds = true;
    ai2.body.velocity.y=283;
    ai2.body.bounce.y=1;

        ai2.animations.add('ai2',[2,0,1],9,true);
            ai2.animations.play('ai2')

    ai.body.velocity.y=450;
    ai2.body.velocity.y=550;
				}
				else if(a==10){

    ai.body.velocity.y=800;
    ai2.body.velocity.y=650;
				}
				else if(a==15){

    ai.body.velocity.y=900;
    ai2.body.velocity.y=1050;
				}
		},
		 killTsato1:function(ai,tsato1s){
				tsato1s.kill();
				b = b - 1;
				life.text='Life :'+b;
				
                // dito mag plaplay pag minus life
				boomusic.play();
				if(b==0){
					player.kill();
					btnfire.destroy();
                    tsatos.destroy();

		ai.animations.stop();
    ai.body.velocity.y=0;
    ai.body.bounce.y=0;

                    goButton = game.add.button(100,197,'gameover',tsatoGame.overgame);
                    if(tsatoGame.retrieveBest() <= a){
                   localStorage.setItem("gameStorage",a);
               }
				}
			},
			 killTsato12:function(ai2,tsato1s){
				tsato1s.kill();
				b = b - 1;
				life.text='Life :'+b;
                // dito mag plaplay pag minus life
                boomusic.play();
				if(b==0){
					player.kill();
					btnfire.destroy();
                    tsato1s.destroy();
					ai.animations.stop();
    ai.body.velocity.y=0;
    ai.body.bounce.y=0;
		ai2.animations.stop();
    ai2.body.velocity.y=0;
    ai2.body.bounce.y=0;

                    goButton = game.add.button(100,197,'gameover',tsatoGame.overgame);
                    if(tsatoGame.retrieveBest() <= a){
                   localStorage.setItem("gameStorage",a);
               }
				}
		},
         retrieveBest:function(){
            return ((localStorage.getItem("gameStorage") != null) || (localStorage.getItem("gameStorage") != ""))?localStorage.getItem("gameStorage"):0;
        },

         overgame:function(){
            window.location.href=window.location.href;
        },
    balikPosition:function(){
        player.reset(700,200);
    }

    }
    }();
